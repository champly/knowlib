mysql 查看死锁和解决死锁：
    1、show OPEN TABLES where In_use > 0;【查看那张表死锁了】
        eg：
            +--------------+-------------------------------+--------+-------------+
            | Database     | Table                         | In_use | Name_locked |
            +--------------+-------------------------------+--------+-------------+
            | energy_sales | customer_invoice_apply_record |      1 |           0 |
            +--------------+-------------------------------+--------+-------------+

    2、SELECT * FROM INFORMATION_SCHEMA.INNODB_TRX;【查看死锁的进程号】
        eg:
            +---------+-----------+---------------------+-----------------------+------------------+------------+---------------------+-----------+---------------------+-------------------+-------------------+------------------+-----------------------+-----------------+-------------------+-------------------------+---------------------+-------------------+------------------------+----------------------------+---------------------------+---------------------------+------------------+----------------------------+
            | trx_id  | trx_state | trx_started         | trx_requested_lock_id | trx_wait_started | trx_weight | trx_mysql_thread_id | trx_query | trx_operation_state | trx_tables_in_use | trx_tables_locked | trx_lock_structs | trx_lock_memory_bytes | trx_rows_locked | trx_rows_modified | trx_concurrency_tickets | trx_isolation_level | trx_unique_checks | trx_foreign_key_checks | trx_last_foreign_key_error | trx_adaptive_hash_latched | trx_adaptive_hash_timeout | trx_is_read_only | trx_autocommit_non_locking |
            +---------+-----------+---------------------+-----------------------+------------------+------------+---------------------+-----------+---------------------+-------------------+-------------------+------------------+-----------------------+-----------------+-------------------+-------------------------+---------------------+-------------------+------------------------+----------------------------+---------------------------+---------------------------+------------------+----------------------------+
            | 2210313 | RUNNING   | 2018-05-22 11:35:12 | NULL                  | NULL             |         15 |                 671 | NULL      | NULL                |                 0 |                 0 |                6 |                  1184 |             124 |                 9 |                       0 | REPEATABLE READ     |                 1 |                      1 | NULL                       |                         0 |                     10000 |                0 |                          0 |
            +---------+-----------+---------------------+-----------------------+------------------+------------+---------------------+-----------+---------------------+-------------------+-------------------+------------------+-----------------------+-----------------+-------------------+-------------------------+---------------------+-------------------+------------------------+----------------------------+---------------------------+---------------------------+------------------+----------------------------+
    trx_mysql_thread_id 就是正在跑的进程

    3、kill （trx_mysql_thread_id对应的号码）
        eg:
            kill 671
            Query OK, 0 rows affected